(this["webpackJsonpsimple-twitter"]=this["webpackJsonpsimple-twitter"]||[]).push([[0],{40:function(e,t,r){},52:function(e,t,r){"use strict";r.r(t);var n=r(2),c=r(1),a=r.n(c),s=r(30),i=r.n(s),o=(r(40),r(17)),u=r(6),j=r(12),l=r(21);r(41),r(53),r(43);l.a.initializeApp({apiKey:"AIzaSyD2JvdJrxJ2NdLZ6xQRaiOMN4kswzW-adA",authDomain:"daily-tweet-6702c.firebaseapp.com",databaseURL:"https://daily-tweet-6702c.firebaseio.com",projectId:"daily-tweet-6702c",storageBucket:"daily-tweet-6702c.appspot.com",messagingSenderId:"204475601065",appId:"1:204475601065:web:7d3ad3c2499c4c628559b8"});var b=l.a,d=l.a.auth(),p=(l.a.storage(),l.a.firestore(),function(){return Object(n.jsxs)("div",{className:"loader",children:[Object(n.jsx)("span",{}),Object(n.jsx)("span",{}),Object(n.jsx)("span",{})]})}),O=Object(c.createContext)(),h=function(e){var t=e.children,r=Object(c.useState)(null),a=Object(j.a)(r,2),s=a[0],i=a[1],o=Object(c.useState)(!0),u=Object(j.a)(o,2),l=u[0],b=u[1];return Object(c.useEffect)((function(){d.onAuthStateChanged((function(e){i(e),b(!1)}))}),[]),l?Object(n.jsx)(p,{}):Object(n.jsx)(O.Provider,{value:{currentUser:s},children:t})},x=r(16),f=r(34),m=function(e){var t=e.children,r=Object(f.a)(e,["children"]),a=Object(c.useContext)(O).currentUser;return Object(n.jsx)(u.b,Object(x.a)(Object(x.a)({},r),{},{children:Boolean(a)?t:Object(n.jsx)(u.a,{to:"/login"})}))},v=function(){var e=Object(c.useContext)(O).currentUser;return Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:e.email}),Object(n.jsx)("p",{children:e.displayName})]})},g=r(32),w=r(33),y=function(e){var t=e.children;return Object(n.jsx)("div",{className:"auth-block",children:Object(n.jsxs)("div",{className:"white-box",children:[Object(n.jsx)("div",{className:"logo-area",children:Object(n.jsx)(g.a,{icon:w.a})}),t]})})},k=r(14),C=r.n(k),N=r(20),S={login:"\ub85c\uadf8\uc778",register:"\ud68c\uc6d0\uac00\uc785"},P=function(e){var t=e.type,r=e.form,c=e.onChange,a=e.onSubmitEmail,s=e.onSubmitGoogle,i=e.error,u=S[t],j=r.email,l=r.username,b=r.password;return Object(n.jsxs)("div",{className:"auth-form-block",children:[Object(n.jsx)("h2",{children:u}),Object(n.jsxs)("form",{children:[Object(n.jsx)("input",{type:"email",name:"email",placeholder:"\uc774\uba54\uc77c",value:j,onChange:c,required:!0}),"register"===t&&Object(n.jsx)("input",{type:"text",name:"username",placeholder:"\uc774\ub984",value:l,onChange:c,required:!0}),Object(n.jsx)("input",{type:"password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",value:b,onChange:c,required:!0}),i&&Object(n.jsx)("p",{className:"error",children:i}),Object(n.jsx)("button",{className:"email-button",onClick:l?a(j,b,l):a(j,b),children:u})]}),Object(n.jsx)("div",{className:"divider",children:"OR"}),Object(n.jsx)("div",{className:"social-button",children:Object(n.jsx)("button",{className:"google-button",onClick:s,children:"Google\ub85c \uacc4\uc18d\ud558\uae30"})}),Object(n.jsx)("div",{className:"link",children:"login"===t?Object(n.jsx)(o.b,{to:"/register",children:"\ud68c\uc6d0\uac00\uc785"}):Object(n.jsx)(o.b,{to:"/login",children:"\ub85c\uadf8\uc778"})})]})},E=r(22);function A(e,t){return Object(x.a)(Object(x.a)({},e),{},Object(E.a)({},t.name,t.value))}function I(e){var t=Object(c.useReducer)(A,e),r=Object(j.a)(t,2),n=r[0],a=r[1];return[n,Object(c.useCallback)((function(e){a(e.target)}),[a])]}var U=function(){var e=I({email:"",password:""}),t=Object(j.a)(e,2),r=t[0],a=t[1],s=Object(c.useState)(""),i=Object(j.a)(s,2),o=i[0],u=i[1],l=function(){var e=Object(N.a)(C.a.mark((function e(t){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r=new b.auth.GoogleAuthProvider,e.next=5,d.signInWithPopup(r);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0),u("\ub85c\uadf8\uc778 \uc2e4\ud328");case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(P,{type:"login",form:r,onChange:a,onSubmitEmail:function(e,t){return function(){var r=Object(N.a)(C.a.mark((function r(n){return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),r.prev=1,r.next=4,d.signInWithEmailAndPassword(e,t);case 4:r.next=10;break;case 6:r.prev=6,r.t0=r.catch(1),console.error(r.t0),u("\ub85c\uadf8\uc778 \uc2e4\ud328");case 10:case"end":return r.stop()}}),r,null,[[1,6]])})));return function(e){return r.apply(this,arguments)}}()},onSubmitGoogle:l,error:o})},D=function(){var e=Object(c.useContext)(O).currentUser,t=Object(u.g)();return Object(c.useEffect)((function(){e&&t.push("/")}),[t,e]),Object(n.jsx)(y,{children:Object(n.jsx)(U,{})})},G=function(){var e=I({email:"",password:"",username:""}),t=Object(j.a)(e,2),r=t[0],a=t[1],s=Object(c.useState)(""),i=Object(j.a)(s,2),o=i[0],u=i[1],l=function(){var e=Object(N.a)(C.a.mark((function e(t){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r=new b.auth.GoogleAuthProvider,e.next=5,d.signInWithPopup(r);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0),u("\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328");case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(P,{type:"register",form:r,onChange:a,onSubmitEmail:function(e,t,r){return function(){var n=Object(N.a)(C.a.mark((function n(c){var a,s;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),n.prev=1,n.next=4,d.createUserWithEmailAndPassword(e,t);case 4:return a=n.sent,s=a.user,n.next=8,s.updateProfile(Object(x.a)(Object(x.a)({},s),{},{displayName:r}));case 8:n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.error(n.t0),u("\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328");case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()},onSubmitGoogle:l,error:o})},J=function(){var e=Object(c.useContext)(O).currentUser,t=Object(u.g)();return Object(c.useEffect)((function(){e&&t.push("/")}),[t,e]),Object(n.jsx)(y,{children:Object(n.jsx)(G,{})})},W=function(){return Object(n.jsx)("div",{children:"Profile Page"})},R=function(){return Object(n.jsx)(h,{children:Object(n.jsx)(o.a,{children:Object(n.jsxs)(u.d,{children:[Object(n.jsx)(m,{path:"/profile",children:Object(n.jsx)(W,{})}),Object(n.jsx)(u.b,{path:"/register",children:Object(n.jsx)(J,{})}),Object(n.jsx)(u.b,{path:"/login",children:Object(n.jsx)(D,{})}),Object(n.jsx)(m,{path:"/",children:Object(n.jsx)(v,{})})]})})})};i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(R,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.eb3eb25b.chunk.js.map